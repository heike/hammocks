gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars) + coord_flip()
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 90) + coord_flip()
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 90) + coord_flip()
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 0) + coord_flip()
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 0) + coord_flip()+opts(legend.pos = NULL)
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 0) + coord_flip()+opts(legend.pos = 'none')
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 0) + coord_flip()+opts(legend.position = 'none')
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, method = 'parset', angle = 0) + coord_flip()+opts(legend.pos = 'none')
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 0) + coord_flip()+opts(legend.pos = 'none')
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, method = 'parset', angle = 0) + coord_flip()+opts(legend.position = 'none')
help.search('parallel coordinate')
?ggpcp
remove.packages('ggparallel')
library(dev_tools)
library(devtools)
install_github('heike', 'ggparallel')
install_github('heike', 'ggparallel')
?install_github
install_githib('ggparallel', 'heike')
install_github('ggparallel', 'heike')
library(ggparallel)
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, method = 'parset', angle = 0) + coord_flip()+opts(legend.position = 'none')
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 0) + coord_flip()+opts(legend.position = 'none')
library(reshape2)
gghammock(vars = list('gear', 'cyl', 'am'), data = mtcars, angle = 0) + coord_flip()+opts(legend.position = 'none')
q()
data(mtcars)
data(titanic)
data(Titanic)
titanic <- data.frame(Titanic)
titanic
ddply(titanic, .variables = c('Class', 'Survived'), .fun = function(x){sum(x$Freq)})
library(plyr)
ddply(titanic, .variables = c('Class', 'Survived'), .fun = function(x){sum(x$Freq)})
temp1 <- ddply(titanic, .variables = c('Class', 'Survived'), .fun = function(x){sum(x$Freq)})
temp1[temp1$Survived == 'Yes', ]
sum(temp1[temp1$Survived == 'Yes', ]$V1)
10/711
11/711
11*10
sum(titanic$Freq)
sum(titanic$Freq)*.1
sum(titanic$Freq)*.01
titanic
temp1 <- ddply(titanic, .variables = c('Class', 'Sex'), .fun = function(x){sum(x$Freq)})
temp2 <- ddply(titanic, .variables = c('Class', 'Survived'), .fun = function(x){sum(x$Freq)})
temp3 <- ddply(titanic, .variables = c('Age', 'Survived'), .fun = function(x){sum(x$Freq)})
temp1
temp2
temp3
temp4 <- ddply(titanic, .variables = c('Age', 'Class'), .fun = function(x){sum(x$Freq)})
temp4
temp6 <- ddply(titanic, .variables = c('Survived', 'Class'), .fun = function(x){sum(x$Freq)})
temp6
temp5
temp5 <- ddply(titanic, .variables = c('Age', 'Class'), .fun = function(x){sum(x$Freq)})
temp5
50/2201
.1 *2201
temp5 <- ddply(titanic, .variables = c('Sex', 'Survived'), .fun = function(x){sum(x$Freq)})
temp5
require(KEGG.db)
require(plyr)
require(stringr)
setwd('Dropbox/biovis_vendettuoli')
paths <- read.delim('data/human_metabpaths.txt')
genenames <- read.delim('data/names.txt')
genes <- read.delim('data/genes.txt')
u2g <- read.delim('data/ucsc2egmapping.txt')
dfC <- merge(u2g, genes, by.x = 'name', by.y = 'X.name')
somepaths <- ldply(xx[str_trim(as.character(paths[c(1, 4, 9, 14, 17,  11,70, 80:82), 1]))], .fun = function(x){data.frame(x)})
names(somepaths) <- c("path", "value")
dfC_sub <- merge(dfC[as.character(dfC$value) %in% as.character(somepaths$value),], somepaths, by.x = "value", by.y = "value")
xx <- as.list(KEGGPATHID2EXTID)
somepaths <- ldply(xx[str_trim(as.character(paths[c(1, 4, 9, 14, 17,  11,70, 80:82), 1]))], .fun = function(x){data.frame(x)})
names(somepaths) <- c("path", "value")
dfC_sub <- merge(dfC[as.character(dfC$value) %in% as.character(somepaths$value),], somepaths, by.x = "value", by.y = "value")
## caffeine and drug metabolism
dfC_caff_drug <- dfC_sub[dfC_sub$path %in% str_trim(as.character(paths[c(17,80), 1])),]
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), alpha = .6, method = 'hammock',
data = dfC_caff_drug,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(dfC_caff_drug$chrom), as.character),
unique(dfC_caff_drug$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
library(ggparallel)
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), alpha = .6, method = 'hammock',
data = dfC_caff_drug,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(dfC_caff_drug$chrom), as.character),
unique(dfC_caff_drug$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
library(RColorBrewer)
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), alpha = .6, method = 'hammock',
data = dfC_caff_drug,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(dfC_caff_drug$chrom), as.character),
unique(dfC_caff_drug$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), alpha = .6, # method = 'hammock',
data = dfC_caff_drug,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(dfC_caff_drug$chrom), as.character),
unique(dfC_caff_drug$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
titanic
xtabs(Freq~Survived+Class, data=titanic)
xtabs(Freq~Sex+Class, data=titanic)
## hammock plot with line widths adjusted by frequency
ggparallel(names(titanic)[c(1,4,2,3)], titanic, weight="Freq", asp=0.5, method="hammock", order=c(0,0)) +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,3)], titanic, weight="Freq", order=0,asp=0.5, method="parset", order=c(0,0)) +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,3)], titanic, weight="Freq",
asp=0.5, method="parset", order=c(0,0)) +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,3)], titanic, weight="Freq",
asp=0.5, method="parset", order=0 +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,3)], titanic, weight="Freq",
asp=0.5, method="parset", order=0) +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,1)], titanic, weight="Freq",
asp=0.5, method="parset", order=0) +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,1)], titanic, weight="Freq",
asp=0.5, method="parset", order=c(0, 0, 1, 0)) +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,1)], titanic, weight="Freq",
asp=0.5, method="parset", order=c(0, 1, 1, 0)) +
theme( legend.position="none")
ggparallel(names(titanic)[c(1,4,2,1)], titanic, weight="Freq",
asp=1, method="parset", order=c(0, 1, 1, 0)) +
theme( legend.position="none")
paths
titanic <- as.data.frame(Titanic)
ggparallel(names(tlong)[c(1,4,2,1)], order=0, method='adj.angle', text.angle=0, weight="Freq", titanic, ratio=0.0001) + scale_fill_brewer(palette="Paired") + scale_colour_brewer(palette="Paired") + coord_flip()
titanic <- as.data.frame(Titanic)
ggparallel(names(titanic)[c(1,4,2,1)], order=0, method='adj.angle', text.angle=0, weight="Freq", titanic, ratio=0.0001) + scale_fill_brewer(palette="Paired") + scale_colour_brewer(palette="Paired") + coord_flip()
titanic <- as.data.frame(Titanic)
ggparallel(names(titanic)[c(1,4,2,1)], order=0, text.angle=0, weight="Freq", titanic, ratio=0.0001) + scale_fill_brewer(palette="Paired") + scale_colour_brewer(palette="Paired") + coord_flip()
titanic <- as.data.frame(Titanic)
ggparallel(names(titanic)[c(1,4,2,1)], order=0, method='adj.angle', text.angle=0, weight="Freq", titanic, ratio=0.0001) + scale_fill_brewer(palette="Paired") + scale_colour_brewer(palette="Paired") + coord_flip()
?ggparallel
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle')
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle', ratio = 0.001)
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle', ratio = 0.0001)
ggparallel
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle', ratio = 0.01)
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle', ratio = 0.2)
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle', ratio = 0.4)
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle', ratio = 0.4, order = 0)
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, order = 0)
getwd()
setwd('..')
setwd('..')
setwd('Documents/websites')
dir()
setwd('mariev.github.com')
dir()
setwd('media/images')
dir()
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
method = "hammock", text.angle = 0, order = 0)
ggparallel(data = mtcars, vars = list('cyl', 'gear', 'carb', 'am' ),
method = "parset", text.angle = 0, order = 0)
ggparallel(data = mtcars, vars = list('cyl', 'gear', 'carb', 'am' ),
method = "parset", text.angle = 0, order = 0)
ggsave('mtcars_parset.png')
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
method = "hammock", text.angle = 0, order = 0)
ggsave(filename  = 'mtcars_hammock.png')
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, order = 0)
ggsave(filename  = 'mtcars_ca.png')
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
text.angle = 0, method = 'adj.angle', ratio = 0.4, order = 0)
ggsave(filename  = 'mtcars_aa.png')
dC_caff_drug
getwd()
setwd('~')
getwd()
setwd('Dropbox/biovis_vendettuoli')
paths <- read.delim('data/human_metabpaths.txt')
genenames <- read.delim('data/names.txt')
genes <- read.delim('data/genes.txt')
u2g <- read.delim('data/ucsc2egmapping.txt')
require(KEGG.db)
require(plyr)
require(stringr)
dfC <- merge(u2g, genes, by.x = 'name', by.y = 'X.name')
xx <- as.list(KEGGPATHID2EXTID)
somepaths <- ldply(xx[str_trim(as.character(paths[c(1, 4, 9, 14, 17,  11,70, 80:82), 1]))], .fun = function(x){data.frame(x)})
names(somepaths) <- c("path", "value")
dfC_sub <- merge(dfC[as.character(dfC$value) %in% as.character(somepaths$value),], somepaths, by.x = "value", by.y = "value")
dfC_forSurvey <- dfC_sub[dfC_sub$path %in% str_trim(as.character(paths[c(17,80, 11), 1])),]
dfC_forSurvey <- factor(dfC_forSurvey$chrom, levels=c(paste("chr", 1:22, sep=""), "chrX", "chrY"))
head(dfC_forSurvey)
dfC_forSurvey <- dfC_sub[dfC_sub$path %in% str_trim(as.character(paths[c(17,80, 11), 1])),]
dfC_forSurvey$chrom <- factor(dfC_forSurvey$chrom, levels=c(paste("chr", 1:22, sep=""), "chrX", "chrY"))
head(dfC_forSurvey)
unique(dfC_forSurvey$path)
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .6, # method = 'hammock',
data = dfC_forSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(dfC_forSurvey$chrom), as.character),
unique(dfC_forSurvey$path))) + coord_flip() + theme(legend.position = "none")
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .6,  method = 'hammock',
data = dfC_forSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(dfC_forSurvey$chrom), as.character),
unique(dfC_forSurvey$path))) + coord_flip() + theme(legend.position = "none")
head(dfC_forSurvey)
levels(dfC_forSurvey$chrom)
dfC_forSurvey[df_forSurvey$chrom %in% levels(dfC_forSurvey$chrom)[1:10],]
dfC_forSurvey[dfC_forSurvey$chrom %in% levels(dfC_forSurvey$chrom)[1:10],]
subSurvey <- dfC_forSurvey[dfC_forSurvey$chrom %in% levels(dfC_forSurvey$chrom)[1:10],]
factor(subSurvey$chrom)
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .6,  method = 'hammock',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none")
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = 1,  #method = 'hammock',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none")
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = 1,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black",
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none")
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = 1,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .001,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none")
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = 1,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .01,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none")
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .01,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none")
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .01,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("chrom", "path"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .02,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70'
, 'grey70'))
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .02,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .03,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .0275,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 7, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 13, 'Dark2'), brewer.pal(n = 13, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 13, 'Dark2'), brewer.pal(n = 13, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 8, 'Set2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), brewer.pal(n = 8, 'Set2'), 'grey70', 'grey70'))
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
dfC_forSurvey <- dfC_sub[dfC_sub$path %in% str_trim(as.character(paths[c(17,80, 11), 1])),]
dfC_forSurvey$chrom <- factor(dfC_forSurvey$chrom, levels=c(paste("chr", 1:22, sep=""), "chrX", "chrY"))
subSurvey <- dfC_forSurvey[dfC_forSurvey$chrom %in% levels(dfC_forSurvey$chrom)[1:8],]
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
subSurvey <- dfC_forSurvey[dfC_forSurvey$chrom %in% levels(dfC_forSurvey$chrom)[c(1:4, 8, 23, 24)],]
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
levels(dfC_forSurvey$chrom)[c(1:4, 8, 23, 24)]
subSurvey <- dfC_forSurvey[dfC_forSurvey$chrom %in% levels(dfC_forSurvey$chrom)[c(1:4, 6, 8, 23, 24)],]
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggparallel(list("gear", "cyl"), data=mtcars, method="adj.angle")
titanic <- as.data.frame(Titanic)
ggparallel(names(titanic)[c(1,4,2,1)], order=0, titanic, weight="Freq") +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
ggparallel(names(titanic)[c(1,4,2,1)], order=0, titanic, weight="Freq", text.angle = 0) +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
titanic <- as.data.frame(Titanic)
ggparallel(names(titanic)[c(1,4,2,1)], order=0, titanic, weight="Freq", text.angle = 0 , order = c(0, 1, 1, 0)) +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 , order = c(0, 1, 1, 0)) +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'hammock') +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
ggparallel(data = mtcars, vars = list('cyl', 'gear',  'carb', 'am' ),
method = "hammock", text.angle = 0, order = 0)
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'hammock') +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
getwd()
dir()
setwd('images')
dir()
setwd(~)
setwd('~')
getwd()
setwd('hammocks/common_angles_study')
dir()
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'hammock') +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
ggsave(filename = 'titanic_hammock.png')
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0)) +
scale_fill_brewer(palette="Paired", guide="none") +
scale_colour_brewer(palette="Paired", guide="none")
ggsave(filename = 'titanic_ca.png')
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0)) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle') +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle', ratio = .02) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle', ratio = .002) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle', ratio = .0002) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle', ratio = .0001) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle', ratio = .00001) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle', ratio = .00005) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'hammock') +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggsave(filename = 'titanic_hammock.png')
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0)) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggsave(filename = 'titanic_ca.png')
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'adj.angle', ratio = .00005) +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggsave(filename = 'titanic_aa.png')
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'parset') +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'parset') +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggsave(filename = 'titanic_parset.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_ca.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_aa.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", method = "parset",
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_parset.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", method = "hammock",
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_hammock.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", method = "parset",
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_parset.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", method = "hammock",
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_hammock.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip()  +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_ca.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() + theme(legend.position = "none") +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_aa.png')
ggparallel(list("path", "chrom"), text.offset=c(0.08, 0,-0.08), asp.ratio = 1.5, alpha = .5,  method = 'adj.angle',
data = subSurvey,  width=0.3, order=c(0,0), text.angle=0, color="black", ratio = .025,
factorlevels =  c(sapply(unique(subSurvey$chrom), as.character),
unique(subSurvey$path))) + coord_flip() +
scale_fill_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey80', 'grey80')) +
scale_color_manual(values =c( brewer.pal(n = 8, 'Dark2'), 'grey70', 'grey70'))
ggsave(filename = 'genedata_aa.png')
dir()
survey <- read.csv('workinggroupsurvey.csv')
survey
gene
genes
paths
survey
titanic <- data.frame(Titanic)
cols <- c(brewer.pal(5,"Blues")[-1], rev(brewer.pal(3, "Oranges")[-1]), brewer.pal(3, "Greens")[-1])
ggparallel(names(titanic)[c(1,4,2,1)], order=c(0,1,0,0), titanic, weight="Freq") +
scale_fill_manual(values=cols, guide="none") +
scale_colour_manual(values=cols, guide="none") + theme_bw()
ggparallel(names(titanic)[c(1,4,2,1)],  titanic, weight="Freq", text.angle = 0 ,
order = c(0, 1, 1, 0), method = 'hammock') +
scale_fill_brewer(palette="Paired") +
scale_colour_brewer(palette="Paired")
ggparallel(names(titanic)[c(1,4,2,1)], order=c(0,1,1,0), titanic, weight="Freq", method = 'hammock') +
scale_fill_manual(values=cols, guide="none") +
scale_colour_manual(values=cols, guide="none") + theme_bw()
getwd()
remove.packages('ggparallel')
q()
